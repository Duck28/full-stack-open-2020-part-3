{"version":3,"sources":["components/Filter.js","components/Form.js","components/PersonList.js","services/persons.js","components/Message.js","App.js","index.js"],"names":["Filter","value","onChange","Form","handleSubmit","newName","handleNameInputChange","newNumber","handleNumberInputChange","onSubmit","type","PersonList","persons","searchedString","handleDelete","filter","person","name","toLowerCase","includes","map","key","id","number","onClick","url","Axios","get","then","response","data","newPerson","post","delete","updatedPerson","put","Message","message","undefined","color","status","messageStyle","backgroundColor","fontSize","padding","margin","borderColor","borderWidth","borderStyle","borderRadius","style","App","useState","setPersons","setNewName","setNewNumber","setSearchedString","setMessage","messageTimeout","setTimeout","useEffect","personService","event","target","preventDefault","window","confirm","find","p","catch","error","JSON","stringify","concat","n","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c99dbf09.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ value, onChange }) =>\n  <div>\n    filter shown with <input value={value} onChange={onChange} />\n  </div>\n\nexport default Filter","import React from 'react'\n\nconst Form = ({ handleSubmit, newName, handleNameInputChange, newNumber, handleNumberInputChange}) =>\n  <form onSubmit={handleSubmit}>\n    <div>\n      name: <input value={newName} onChange={handleNameInputChange} />\n    </div>\n    <div>\n      number: <input value={newNumber} onChange={handleNumberInputChange} />\n    </div>\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n\nexport default Form;","import React from 'react'\n\nconst PersonList = ({ persons, searchedString, handleDelete }) =>\n  <div>\n    {persons.filter(person => searchedString === ''\n      || person.name.toLowerCase().includes(searchedString.toLowerCase()))\n      .map(person => <div key={person.id}>\n        {person.name} {person.number} <button onClick={() => handleDelete(person.id, person.name)}>delete</button>\n      </div>)}\n  </div>\n\nexport default PersonList","import Axios from 'axios'\n\nconst url = '/api/persons';\n\nconst getAll = () =>  Axios.get(url).then(response => response.data)\nconst create = newPerson =>  Axios.post(url, newPerson).then(response => response.data)\nconst deletePerson = id => Axios.delete(`${url}/${id}`).then(response => response.data)\nconst update = updatedPerson => Axios.put(`${url}/${updatedPerson.id}`, updatedPerson).then(response => response.data)\n\nexport default {\n  getAll,\n  create,\n  deletePerson,\n  update\n}","import React from 'react'\n\nconst Message = ({ message }) => {\n  if (message === undefined) {\n    return null\n  }\n\n  const color = message.status === 'success' ? 'green' : 'red'\n  const messageStyle = {\n    backgroundColor: 'gainsboro',\n    fontSize: 20,\n    color: color,\n    padding: 20,\n    margin: 15,\n    borderColor: color,\n    borderWidth: 2,\n    borderStyle: 'solid',\n    borderRadius: 10\n  }\n\n  return (<div style={messageStyle}>\n    {message.message}\n  </div>)\n}\n\nexport default Message","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Form from './components/Form'\nimport PersonList from './components/PersonList'\nimport personService from './services/persons'\nimport Message from './components/Message'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [searchedString, setSearchedString] = useState('')\n  const [message, setMessage] = useState()\n\n  const handleNameInputChange = (event) => setNewName(event.target.value);\n  const handleNumberInputChange = (event) => setNewNumber(event.target.value);\n  const handleSearchInputChange = (event) => setSearchedString(event.target.value);\n\n  const messageTimeout = () => setTimeout(() => { setMessage() }, 5000)\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const newPerson = { name: newName, number: newNumber };\n    if (persons.map(person => person.name).includes(newName)) {\n      if (window.confirm(`${newName} is already in the phonebook, replace the old number with a new one?`)) {\n        const person = persons.find(p => p.name === newName);\n        const updatedPerson = { ...person, number: newNumber }\n        personService.update(updatedPerson)\n          .then(updatedPerson => {\n            setPersons(persons.map(p => p.name === newName ? updatedPerson : p))\n            setMessage({\n              message: `${updatedPerson.name}'s number successfully updated.`,\n              status: 'success'\n            })\n          })\n          .catch(error => setMessage({\n            message: JSON.stringify(error.response.data),\n            status: 'error'\n          }))\n        setNewName('');\n        setNewNumber('');\n        setSearchedString('');\n        messageTimeout();\n      }\n      return;\n    }\n    setNewName('');\n    setNewNumber('');\n    setSearchedString('');\n\n    personService.create(newPerson).then(newPerson => setPersons(persons.concat(newPerson)))\n      .catch(error => setMessage({\n        message: JSON.stringify(error.response.data),\n        status: 'error'\n      }))\n    setMessage({\n      message: `${newPerson.name} added.`,\n      status: 'success'\n    });\n    messageTimeout();\n  }\n\n  const handleDelete = (id, name) => {\n    window.confirm(`Delete ${name}?`)\n      && personService.deletePerson(id).then(person => setPersons(persons.filter(p => p.id !== id)))\n        .catch(error => {\n          setPersons(persons.filter(n => n.id !== id));\n          setMessage({\n            message: `Information of ${name} has already been removed from the server.`,\n            status: 'error'\n          })\n        })\n  }\n\n  useEffect(() => {\n    personService.getAll().then(persons => setPersons(persons))\n  }, [])\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Message message={message} />\n      <Filter value={searchedString} onChange={handleSearchInputChange} />\n      <h2>Add new</h2>\n      <Form\n        handleSubmit={handleSubmit}\n        newName={newName}\n        handleNameInputChange={handleNameInputChange}\n        newNumber={newNumber}\n        handleNumberInputChange={handleNumberInputChange}\n      />\n      <h2>Numbers</h2>\n      <PersonList persons={persons} searchedString={searchedString} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}